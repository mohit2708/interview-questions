<!DOCTYPE html>
<html lang="en">
   <head>
      <title>Wordpress Interview Questions</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
   </head>
   <style type="text/css">
      .code_script{
         background: #ffffff; overflow: auto; width: auto; border: solid orange; border-width: .1em .1em .1em .8em; padding: .2em .6em;
      }
      .code_script_ans{
         background: #ffffff; overflow: auto; width: auto; border: solid green; border-width: .1em .1em .1em .8em; padding: .2em .6em;
      }
   </style>
   <body>
      <div class="container">
         <div class="m-4">
            <div class="accordion" id="myAccordion">
               <div class="accordion-item">
                  <h2 class="accordion-header" id="headingTwo">
                     <button type="button" class="accordion-button" data-bs-toggle="collapse" data-bs-target="#wordpress">Ques. What is Wordpress?</button>
                  </h2>
                  <div id="wordpress" class="accordion-collapse collapse show" data-bs-parent="#myAccordion">
                     <div class="card-body">
                        <p>
                        <ul>
                           <li>Wordpress is a free open source content management system(CMS) written PHP language.</li>
                           <li>It allows users to create dynamic websites from personal blogs to e-commerce.</li>
                        </ul>
                        </p>
                     </div>
                  </div>
               </div>
               <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                     <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#pagepost">Ques. Difference between pages and post?</button>                  
                  </h2>
                  <div id="pagepost" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                     <div class="card-body">
                  <ul>
                     <li>Posts can be categorized vs. Pages are hierarchical.</li>
                     <li>Posts Usually Have A Public Author, But Pages Don’t</li>
                     <li>Posts Display In Your RSS Feed, But Pages Don’t</li>
                     <li>Posts Have Custom “Formats”, But Pages Only Sometimes Have Templates</li>
                  </ul>
                     </div>
                  </div>
               </div>

              <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                     <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#prefix">Ques. What is default table prefix for wordpress?</button>                  
                  </h2>
                  <div id="prefix" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                     <div class="card-body">
                     <p><strong> wp_</strong> is default prefix for WordPress.</p>
                     </div>
                  </div>
               </div>

                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                     <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#log_file">Ques. Create the LOG File?</button>                  
                  </h2>
                  <div id="log_file" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                     <div class="card-body">
                     <p><div class="code_script">
                           <pre>
$datacsv_post = json_encode($_POST); 

$siteurl = realpath($_SERVER["DOCUMENT_ROOT"]);
$curdate = date('d-m-Y'); 
$path = $siteurl.'/abc'.$curdate.'.txt';
$files_data = fopen($path,'a'); 
fwrite($files_data, "\n" . date('Y-m-d h:i:s') . " :: " . $datacsv_post);
fclose($files_data);
                           </pre>
                         </div>
                     </div>
                  </div>
               </div>

                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                     <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#gform">Ques. Add a text below the submit button in gravity form?</button>                  
                  </h2>
                  <div id="gform" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                     <div class="card-body">
                        <p>add_filter( 'gform_submit_button_12', 'add_paragraph_below_submit', 10, 2 ); // 12 is grevity form ID<br>
                           function add_paragraph_below_submit( $button, $form ) {<br>
                           &nbsp;&nbsp;&nbsp;return $button .= '&lt;p>By clicking the "Submit" button above, I .......';<br>
                           }</p>
                     </div>
                  </div>
               </div>

              <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                     <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#product_titles_to_one_line">Ques. Limit all WooCommerce product titles to one line only?</button>                  
                  </h2>
                  <div id="product_titles_to_one_line" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                     <div class="card-body">
                        <strong>Option 1: (CSS): Limit all WooCommerce product titles to one line only</strong>
                        <p>.product-block .name {<br>
                             &nbsp;&nbsp;&nbsp;font-size: 14px;<br>
                             &nbsp;&nbsp;&nbsp;overflow: hidden;<br>
                             &nbsp;&nbsp;&nbsp;text-overflow: ellipsis;<br>
                             &nbsp;&nbsp;&nbsp;white-space: nowrap;<br>
                            }</p>

                        <strong>Option 2: (PHP): Limit all WooCommerce product titles to max number of words</strong>
                        <p>add_filter( 'the_title', 'shorten_woo_product_title', 10, 2 );<br>
                           function shorten_woo_product_title( $title, $id ) {<br>
                               if ( ! is_singular( array( 'product' ) ) && get_post_type( $id ) === 'product' ) {<br>
                                   return wp_trim_words( $title, 4, '...' ); // change last number to the number of words you want<br>
                               } else {<br>
                                   return $title;<br>
                               }<br>
                            }</p>
                            <strong>OR</strong>
                            <p>function bbloomer_shorten_woo_product_title( $title, $id ) {<br>
                                 if ( is_shop() && get_post_type( $id ) === 'product' ) {<br>
                                    return wp_trim_words( $title, 4 ); // last number = words<br>
                                 } else {<br>
                                    return $title;<br>
                                 }<br>
                              }</p>
                        <strong>Option 3: (PHP): Limit all WooCommerce product titles to max number of characters</strong>
                        <p>add_filter( 'the_title', 'shorten_woo_product_title', 10, 2 );<br>
                           function shorten_woo_product_title( $title, $id ) {<br>
                               if ( ! is_singular( array( 'product' ) ) && get_post_type( $id ) === 'product' ) {<br>
                                 return substr( $title, 0, 30); // change last number to the number of characters you want<br>
                               } else {<br>
                                   return $title;<br>
                               }<br>
                           }</p>
                           <strong>OR</strong>
                           <p>add_filter( 'the_title', 'bbloomer_shorten_woo_product_title', 9999, 2 );<br><br>
 
                           function bbloomer_shorten_woo_product_title( $title, $id ) {<br>
                           &nbsp;&nbsp;&nbsp;if ( is_shop() && get_post_type( $id ) === 'product' ) {<br>
                           &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return substr( $title, 0, 15 ); // last number = characters<br>
                           &nbsp;&nbsp;&nbsp;} else {<br>
                           &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $title;<br>
                           &nbsp;&nbsp;&nbsp;}<br>
                           }</p>
                     </div>
                  </div>
               </div>

               <h3>Hooks</h3>


             <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                     <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#out_of_stock">Ques. Hide Read More button on shop page which is product out of stock?</button>                  
                  </h2>
                  <div id="out_of_stock" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                     <div class="card-body">
                        <p>Code Insert in Function.php
                          <div class="code_script">
                           <pre>
if (!function_exists('woocommerce_template_loop_add_to_cart')) {   
   function woocommerce_template_loop_add_to_cart() {
      global $product;
      if ( ! $product->is_in_stock() || ! $product->is_purchasable() ) return;
      wc_get_template('loop/add-to-cart.php');
   }
}
</pre>
</div>
</p>
                     </div>
                  </div>
               </div>

                         <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                     <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#cart_button">Ques. To change add to cart button text on single product page?</button>                  
                  </h2>
                  <div id="cart_button" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                     <div class="card-body">
                        <p>Code Insert in Function.php
                          <div class="code_script">
                           <pre>
add_filter( 'woocommerce_product_single_add_to_cart_text', 'woocommerce_custom_single_add_to_cart_text' ); 
function woocommerce_custom_single_add_to_cart_text() {
    return __( 'Buy Now', 'woocommerce' ); 
}
</pre>
</div>
</p>
                     </div>
                  </div>
               </div>


             <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                     <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#order_completed">Ques. Trigger File After the order success?</button>                  
                  </h2>
                  <div id="order_completed" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                     <div class="card-body">
                        <p>Code Insert in Function.php
                          <div class="code_script">
                           <pre>
add_action( 'woocommerce_order_status_completed', 'order_completed', 10, 1);
function order_completed($order_id) {
    error_log("$order_id set to COMPLETED");
    $order = wc_get_order( $order_id );

        // Get the order key
        $order_key = $order->get_order_key();
        print_r($order);
}
</pre>
</div>
</p>
                     </div>
                  </div>
               </div>



            </div>
         </div>
      </div>
   </body>
</html>






<!-- 






// Change images alt and title tag 
add_filter('wp_get_attachment_image_attributes', 'change_attachement_image_attributes', 20, 2);
function change_attachement_image_attributes($attr, $attachment) {
global $post;
$product = wc_get_product( $post->ID );
if ($post->post_type == 'product') {
    $title = $post->post_title;
   $image_id = get_post_thumbnail_id();
   $image_alt = get_post_meta($image_id, '_wp_attachment_image_alt', TRUE);
    $attr['alt'] = $image_alt ? $image_alt : $title;
    }
    return $attr;
} 

// phone field validation in checkout page 
add_filter( 'woocommerce_checkout_fields' , 'custom_override_checkout_fields' );
function custom_override_checkout_fields( $fields )
{        
     $fields['billing']['billing_phone']['custom_attributes'] = array( "maxlength" => "12" );  
     return $fields;    
}

// show brand name in a single page
function wpb_demo_shortcode() { 
    $product_cats = get_the_terms( get_the_ID(), 'product_cat' );
    $categorySize = array();
   foreach($product_cats as $terms){
      $categorySize[]=$terms->name;
         }
         $List = implode(', ', $categorySize);
   echo $List; 
} 
add_shortcode('brand_name', 'wpb_demo_shortcode');


/**
 * Change the placeholder image
 */

add_filter('woocommerce_placeholder_img_src', 'custom_woocommerce_placeholder_img_src');
function custom_woocommerce_placeholder_img_src( $src ) {
    $upload_dir = wp_upload_dir();
    $uploads = untrailingslashit( $upload_dir['baseurl'] );
    // replace with path to your image
    $src = $uploads . '/2021/10/Watch_Placeholder.jpg';
    return $src;
}

/*For thumbnail*/

add_filter('woocommerce_placeholder_img', 'downloadclub_woocommerce_placeholder_img', 10, 3);
function downloadclub_woocommerce_placeholder_img($image_html, $size, $dimensions){
   $image      = wc_placeholder_img_src( $size );
    //replace image url
   $image_html = '<img src= "/wp-content/uploads/2021/10/Watch_Placeholder.jpg"' . esc_attr( $image ) . '" alt="' . esc_attr__( 'Placeholder', 'woocommerce' ) . '" width="' . esc_attr( $dimensions['width'] ) . '" class="woocommerce-placeholder wp-post-image" height="' . esc_attr( $dimensions['height'] ) . '" />';

   return $image_html;
}

/* Add Make an offer button */
add_action('woocommerce_after_add_to_cart_button','cmk_additional_button');
function cmk_additional_button() {
   global $wp_query;
     $terms_post = get_the_terms( $post->cat_ID , 'product_cat' );
     foreach ($terms_post as $term_cat) { 
     $term_cat_id = $term_cat->term_id; 
    if($term_cat_id == 1585){
   echo '<button type="submit" class="button alt makeAnOffer">Make an Offer</button>'; 
   }
}  
}

/* Hide popularity */
add_filter( 'woocommerce_catalog_orderby', 'misha_remove_default_sorting_options' );
function misha_remove_default_sorting_options( $options ){

   unset( $options[ 'popularity' ] );
   unset( $options[ 'menu_order' ] );
   unset( $options[ 'rating' ] );
   //unset( $options[ 'date' ] );
   //unset( $options[ 'price' ] );
   //unset( $options[ 'price-desc' ] );

   return $options;

}
/* Add Notify Button in wishlist page */
function woo_custom_cart_button_text() {
global $product;
if($product->get_stock_quantity()<1) {
   $nonce = wp_create_nonce('cwg_trigger_popup_ajax');
 ?>
 <input type="submit" data-security="<?php  echo do_shortcode($nonce); ?>" data-variation_id="" data-product_id="<?php echo esc_attr( $product->get_id() ); ?>" class="cwg_popup_submit notifybut" value="Notify Me">
<?php }
}

add_action('yith_wcwl_table_before_product_cart','woo_custom_cart_button_text');

/**
 * Remove Add to Cart Button in Shop page and product page
 */
remove_action( 'woocommerce_after_shop_loop_item', 'woocommerce_template_loop_add_to_cart');

function wpb_demo_attribute() { 
    global $wp_query;
    $terms_post = get_the_terms( $post->cat_ID , 'product_cat' );
    foreach ($terms_post as $term_cat) { 
    $term_cat_id = $term_cat->term_id; 
    print_r($$term_cat_id);
    if($term_cat_id == 1585){
    
    
   global $product;
    $attributes = $product->get_attributes();
    if ( ! $attributes ) {
        return;
    }
    $display_result = '';
    foreach ( $attributes as $attribute ) {
        if ( $attribute->get_variation() ) {
            continue;
        }
        $name = $attribute->get_name();
        if ( $attribute->is_taxonomy() ) {
            $terms = wp_get_post_terms( $product->get_id(), $name, 'all' );
            $cwtax = $terms[0]->taxonomy;
            $cw_object_taxonomy = get_taxonomy($cwtax);
            if ( isset ($cw_object_taxonomy->labels->singular_name) ) {
                $tax_label = $cw_object_taxonomy->labels->singular_name;
            } elseif ( isset( $cw_object_taxonomy->label ) ) {
                $tax_label = $cw_object_taxonomy->label;
                if ( 0 === strpos( $tax_label, 'Product ' ) ) {
                    $tax_label = substr( $tax_label, 8 );
                }
            }
            $display_result .= $tax_label . ': ';
            $tax_terms = array();
            foreach ( $terms as $term ) {
                $single_term = esc_html( $term->name );
                array_push( $tax_terms, $single_term );
            }
            $display_result .= implode(', ', $tax_terms) .  '<br />';
        } else {
            $display_result .= $name . ': ';
            $display_result .= esc_html( implode( ', ', $attribute->get_options() ) ) . '<br />';
        }
    }
    echo $display_result;
      }
}
} 
add_shortcode('attributesms', 'wpb_demo_attribute');

if ( ! function_exists( 'yith_wcwl_berocket_filters_compatibility' ) ) {
   function yith_wcwl_berocket_filters_compatibility() {
      wp_add_inline_script(
         'jquery-yith-wcwl',
         "
            jQuery( function( $ ) {
               $(document).on( 'berocket_ajax_products_loaded', function() { $(document).trigger('yith_wcwl_init') } );
            } );
         "
      );
   }
   add_action( 'wp_enqueue_scripts', 'yith_wcwl_berocket_filters_compatibility' );
}


/**
 * Customize ordering by price
 */
add_filter('woocommerce_get_catalog_ordering_args', function ($args) {
    $orderby_value = isset($_GET['orderby']) ? wc_clean($_GET['orderby']) : apply_filters('woocommerce_default_catalog_orderby', get_option('woocommerce_default_catalog_orderby'));

    if ('price' == $orderby_value) {
        $args['orderby'] = 'meta_value_num';
        $args['order'] = 'ASC';
        $args['meta_key'] = '_price';
    }

    if ('price-desc' == $orderby_value) {
        $args['orderby'] = 'meta_value_num';
        $args['order'] = 'DESC';
        $args['meta_key'] = '_price';
    }

    return $args;
});


// add_action( 'init', 'process_post' );
 
// function process_post() {
//      echo "mohit";
//  global $wp_query;
//  global $wpdb;
//      $cat_ids          =   630;
// // $conn          =   new mysqli($servername, $username, $password,$database);

//  $get_pro_by_cat1   =   'SELECT ID, "post_title" FROM  "wp_posts" as post 
//                        INNER JOIN wp_term_relationships rs ON rs.object_id = 
//                        post.ID WHERE  "post_type" =  "product" AND "post_status" 
//                        =  "publish" AND rs.term_taxonomy_id  =' .$cat_ids.' 
//                        ORDER BY post_title';

//                  $get_pro_by_cat = "SELECT id, name FROM wp_posts";

//               $myrows = $wpdb->get_results($get_pro_by_cat);

// print_r($myrows);

// //$avail_products = $conn->query($get_pro_by_cat);

// }

add_filter( 'the_title', 'shorten_woo_product_title', 10, 2 );
function shorten_woo_product_title( $title, $id ) {
    if ( ! is_singular( array( 'product' ) ) && get_post_type( $id ) === 'product' ) {
        return wp_trim_words( $title, 9, '...' ); // change last number to the number of words you want
    } else {
        return $title;
    }
} -->
